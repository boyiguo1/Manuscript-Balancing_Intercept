We simulate a data set of $n=10000$ individuals whose binary outcome has an overall marginal probability of $\pi = 0.4$. The outcome is associated with a three-level covariate on the logit scale (in the generalized linear model framework, the link function is $g(x) = log(\frac{x}{1-x})$). The log odds ratios between the second level and the third level of the variable compared to the first level is $\beta_1=0.2$ and $\beta_2=-0.1$ respectively. The prevalence of the three levels of the covariate among the sample is 0.6, 0.3, and 0.1 respectively. As the levels of the covariate are not balanced, we need to calculate the intercept term in the effect coding system. The overall goal is to calculate the mean of conditional probabilities in two steps with close form equations.  The first step is to calculate the the conditional proabilities given the format of information you have; the second step is to take average of the the conditional proabilities over the number of levels, i.e. $\delta_0 = \frac{\sum\limits_{j=1}^p \pi_j}{p}$. The first step is trivial if the conditional probability is given. Nevertheless, if the ratios or difference is given, we can calculate the conditional probabilities by first finding the reference level probability by solving 
$$
\pi = \sum\limits_{j=1}^p \frac{n_j}{n}\pi_j
$$
where $\pi_j = g^{-1}(g(\pi_1)/\beta_{j-1})$ for ratios and $\pi_j = g^{-1}(g(\pi_1)-\beta_{j-1})$ for differences. Given these numbers it is very easy to derive the coefficients via a linear system according to Table 1. With the given, we can simulate the outcome via a bernoulli distribution
$$
Y \sim Bernoulli(g^{-1}(\delta_0 + \delta_1 X_1 + \delta_2X_2)),
$$
where $X_1$ and $X_2$ follows the effect coding suggested in Table 1. This data generating mechanism can be easily generalizable to the covariates with more levels, multiple covariates or statistical interaction of cavoriates by conceptualizing the 2-way contigency table, and treat each cell as one level of the covariate table. This would allow the simulations to address mediators, or colliders. It is also very easy to address continuous covariates by including a centered version of the covariates ($X-E(X)$). The implementation of the data generating process with an effect coding scheme is provided in the supporting information. 
