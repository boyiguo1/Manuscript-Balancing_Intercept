---
bibliography: references.bib
---

As the field of epidemiology evolves, there are growing interests to employ more computational approaches to solve analytic problems. Among them, simulation is one of the most accessible concepts. Previous literature argues the importance of simulation in epidemiology education and research. [TODO: add citations] Even though computational tools can be very helpful, we caution the excess reliance on the computation in analytic problem solving and the total neglect of fundamental statistics theories. In the article, we demonstrate how basic statistics knowledge can simplify the balance intercept problem and provide a generalized solution. Specifically, we dissect the balance intercept problem from a statistical perspective, formulate the balance intercept calculation for all outcomes and link functions, and provide an alternative solution that require significantly less computation.

The balance intercept concept was first introduced by @rudolph2021 to control the marginal probability of binary outcomes when constructing a simulation study. The authors proposed to calculate a "balance intercept" to replace the "standard intercept" in simulation procedures. @robertson2021 discovered that the analytic solution of the balance intercept produces inaccurate control when the data generating model employs a logistic link function. They proposed to use root finding algorithms to find the balance intercept numerically. Later, @zivich2022 generalized the numeric solutions to several other outcome distributions.

To better understand the balance intercept problem, we first review two basic statistics concepts, coding schemes and link functions. A coding scheme describes how a categorical variable is enumerated in a regression system. Most commonly used coding schemes include the reference coding (also known as dummy coding) and the effect coding. Both coding schemes create $p-1$ columns for a categorical variable with $p$ levels. The reference coding employs 0 and 1 to denote the level an individual belongs, while the effect coding employs 0, 1, and -1. For example, a binary variable would be coded as a vector of 0 for the reference level and 1 for the comparing level using the reference coding and a vector of 1 and -1 using the effect coding. (See an example of three-level categorical variable in Table 1). As the enumerations are different for the two coding schemes, they offer different interpretations of regression coefficients. The reference coding emphasizes the change relative to a reference level of preference; the effect coding emphasizes the deviation from the grand mean (here refer to as the mean of the level means). Nevertheless, the two schemes translate to each other one-on-one and provide the same statistical inference. To note, both coding schemes can be applied ubiquitously in any regression system regardless the outcome distribution and the link function of choice. In addition, a link function describes the mathematical relationship between linear predictor and the mean of the outcome. Similar to generalized linear models, the choice of estimands decides the link function in the data generating model. For example, if the estimands of observation is risk difference, an identify function is preferred instead of a logistic function in the data generating model. The choice of the link function in the data generating model has impact on the accuracy of the imbalance intercept approximation and will be elaborate more later. 

<!-- For more techinical details, we defer to [TODO: add textbook, probably INTRODUCING ANOVA and ANCOVA by andrew rutherford]. -->

\input{tab/code_scheme.tex}


