Recently, I came across @rudolph2021 who addressed the problem of controlling the marginal probability of binary outcomes when constructing a simulation study. The authors proposed calculating a concept called “balance intercept” to replace the standard intercept in simulation procedures based on the reference coding scheme. The balance intercept is an adjustment to the conditional probability of the reference level of a categorical covariate. This same problem is revisited by @robertson2021 in which the balance intercept is calculated with a numeric approximation. Nevertheless, both methods require extensive calculations, and there could be a more straightforward solution.

I proposed an alternative simulation strategy to control the marginal probability of a binary outcome. Instead of constructing the simulation based on the reference coding scheme, we encourage using effect coding, specifically deviation coding, to construct the design matrix of categorical covariates. The theoretical basis of this proposal is that the intercept term of the effect coding model (regardless of the link function or parametric assumptions) is the mean of the group means, which coincides with the marginal probability of a binary outcome when the groups are balanced. Hence, to simulate data from balanced designs, no additional calculation is needed compared to the previous proposals. In the case of unbalanced design, it is very intuitive to adjust the simulation equations and requires minimum arithmetic calculation. (See examples below) Besides its straightforwardness, the proposed solution should not incur any knowledge burden as the effect coding is commonly introduced in introductory statistics classes. 

In the rest of this report, we demonstrate the simulation procedures for both balance and unbalanced design in _R_ [@R2021]. We defer the readers who are unfamiliar with the coding schemes to [https://stats.oarc.ucla.edu/r/library/r-library-contrast-coding-systems-for-categorical-variables/](https://stats.oarc.ucla.edu/r/library/r-library-contrast-coding-systems-for-categorical-variables/). The simulation strategy translates easily to other programming e.g. *SAS*, *STATA*, whose implementations are not shown in this article. 
